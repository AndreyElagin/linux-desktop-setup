- name: (Fedora) Install shared dependencies
  become: true
  dnf:
    name:
      - flatpak
      - fuse
      - dbus-daemon
      - dbus-x11
      - openssl
      - nss
      - mesa-dri-drivers
      - glx-utils
      - libglvnd
      - xrandr
      - wmname
      - setxkbmap
      - gnome-font-viewer
    state: present
  when:
    - ansible_distribution == "Fedora"
  tags:
    - shared_deps

- name: Install pexpect
  pip:
    name: pexpect
  when:
    - ansible_distribution == "Fedora"
  tags:
    - shared_deps

